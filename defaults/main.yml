---
# The list of private user key files to be copied to the target (for use with the SSH client on the target). The public user key file is assumed to have the same name with the additional suffix ".pub".
ssh_user_keys:
  - unsafe_rsa

# The comprehensive list of public user key files used to make up the authorized_keys file on the target. The filenames given here will be appended the suffix ".pub".
ssh_authorized_keys:
  - id_rsa

# If set to true, the SSH server on target will allow X11 forwarding.
ssh_allow_x11_fwd: false

# If set to true, create a new set of SSH host keys, replacing all keys found on the target machine. The number of keys on the target machine may change with this operation (i.e.: present DSA keys will be removed).
# WARNING: This option should never be set to true in any place where it is likely to be run more than once ever. It is recommended to only change this variable using ansible-playbook command-line arguments, for example:
# Renewing the SSH host keys should not break client configuration for any host, as server authentication relies on host key signatures.
# NOTE: To use this feature, Ansible has to be run with the tag "ssh_key_management"
ssh_renew_host_keys: false

# If set to true, create a new key for signing of SSH host keys, replacing the old keys in the Ansible repository.
# WARNING: This option should never be set to true in any place where it is likely to be run more than once ever. It is recommended to only change this variable using ansible-playbook command-line arguments, for example:
# WARNING: Renewing the key for signing host keys require all "known_hosts" client configuration files to be updated. Updating a client configuration will break authentication to all SSH servers where Ansible has not been run before.
# NOTE: To use this feature, Ansible has to be run with the tag "ssh_key_management"
ssh_renew_host_cert: false

# The following variables generally don't need to be changed except when the Ansible repository is re-organized internally. They are the configuration for shell scripts run on the runner for key generation.
# Directory which contains the helper scripts on the Ansible runner
ssh_script_loc: '{{ config_repo_path }}/local/ssh'
# Pathname of the key file used for signing host keys
ssh_ca_key_loc: '{{ config_repo_path }}/local/ssh/host_ca/host_ca_rsa'
# Directory where SSH host public keys are stored, when a new key has been generated. Only freshly generated keys will be collected.
ssh_host_key_loc: '{{ config_repo_path }}/local/ssh/host_keys'
# Directory where SSH user keys are stored
ssh_user_key_loc: '{{ config_repo_path }}/ssh-public-keys'
# Directory where public SSH user keys of alien users are stored
ssh_alien_key_loc: '{{ config_repo_path }}/local/ssh/alien_keys'
# tmpfs for storing all generated key material in on the runner
ssh_tmpdir: '/run/shm/ssh_key_playground'
ssh_all_user_keys: # All possible user key names. Keys that aren't configured to be on a target with ssh_user_keys will be deleted. ".pub" will be appended.
  - id_rsa

# List of ssh packages that should be installed.
pkgs:
  - openssh-server
  - openssh-client
  - coreutils
  - sshfs

